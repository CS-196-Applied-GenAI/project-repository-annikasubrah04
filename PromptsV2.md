# prompts.md

Below is a series of step-by-step prompts for a code-generation LLM to implement the "Personal Health & Fitness App — Project Blueprint" using Python-based frameworks and libraries. The approach follows test-driven development practices, prioritizes best practices, and ensures that components are integrated.

---

## 1. Initial Project Setup & Foundations

### 1.1 Initialize Repositories and Tooling

```
Set up the project’s root directory (monorepo or multiple subrepos as needed) with a minimal README.md describing the vision and goals. Add a `.gitignore` suitable for Python projects. Create the folder structure (`/backend`, `/web`, `/mobile`, etc.). 

For the backend, initialize a Python project using `pipenv` or `poetry`, with Flask or FastAPI as the framework. Add `pytest` for testing. Create a basic test confirming the project structure.

For the mobile and web sections (if included), outline how Python-based frameworks (e.g., Kivy for mobile or Django for web if React isn’t used) would fit in.
```

### 1.2 Set Up CI/CD

```
Create a GitHub Actions pipeline that installs dependencies, checks code formatting (e.g., `black`), and runs `pytest`. Test the pipeline by including basic checks on each subproject, ensuring isolated CI/CD workflows.
```

### 1.3 Linting and Contribution Standards

```
Configure `pre-commit` hooks to enforce linting rules (e.g., with `flake8` or `black`). Add a CONTRIBUTING.md file explaining the coding and PR practices. Confirm that the pre-commit tests pass before allowing any commits.
```

---

## 2. Core Backend (OAuth Relay)

### 2.1 OAuth API Setup

```
Scaffold a basic OAuth backend using FastAPI with endpoints `/oauth/start` and `/oauth/callback`. Implement stubbed handlers using FastAPI’s routing features. Include OpenAPI documentation autogenerated by FastAPI. Write unit tests to confirm these endpoints are accessible and return stubbed responses.
```

### 2.2 Secret Management and Logging

```
Add secret management using `python-decouple` or `dotenv`. Set up structured logging using Python’s `logging` module or libraries like `structlog`. Integrate middleware for security features such as CORS, validation, and rate-limiting (`fastapi-limiter`). Write tests for invalid requests, security middlewares, and error-prone flows.
```

### 2.3 OAuth Token Relay Logic

```
Implement an in-memory token relay mechanism with zero-persistence support. Relay tokens from services like Fitbit and Oura using `httpx`. Write detailed integration tests that simulate token flows (valid/invalid tokens). Mock external OAuth providers for tests using `responses`.
```

---

## 3. Developing the Health App API (modular and backend-focused Python)

### 3.1 Create Common Modules (Admin, Devices Handler)

```
Focus modular detail w/n dataset-driven style!
```

---
